# Introduction to Staking

Staking is a fundamental aspect of blockchain networks that employ a Proof-of-Stake (PoS) consensus mechanism. It involves participants locking up tokens to secure the network, validate transactions, and, in return, earn rewards. This process is pivotal for maintaining network integrity, security, and continuity. By engaging in staking, token holders contribute to the network's resilience against attacks and improve the functionality of governance and new services on Tangle like multi-party computation (MPC.)

## Proof-of-Stake (PoS) Explained

Proof-of-Work (PoW) and Proof-of-Stake (PoS) are consensus mechanisms used to validate transactions and add new blocks to the blockchain in a decentralized manner.

In PoW networks like Bitcoin, miners compete to solve complex mathematical puzzles. The first miner to solve the puzzle validates the block and is rewarded with cryptocurrency. However, this process requires vast amounts of computing power and electricity, making it energy-intensive and environmentally taxing.

PoS networks like Tangle Network use a different approach to validate transactions while consuming far less energy. Instead of miners, PoS networks have validators who stake their coins to participate in the validation process. The more coins a validator stakes, the greater their chance of being selected to validate the next block. Validators are rewarded for honestly validating transactions.

If validators act dishonestly, their staked coins can be partially or fully slashed, disincentivizing malicious behavior. The economic risks of losing their stake encourage validators to follow the protocol rules. This aligns the interests of validators with the stability and security of the network.

In summary, PoS relies on validators with skin in the game to validate transactions through staking instead of PoW's energy-intensive mining puzzles. By tying validation to economic stakes, PoS promotes network security in an energy-efficient way.

## Nominated Proof-of-Stake (nPoS)

Tangle Network uses Nominated Proof-of-Stake (NPoS) to select validators for its consensus protocol in a novel way that enhances network security.

NPoS incentivizes TNT holders to participate as nominators who can back validator candidates. Validator candidates signal their interest publicly. Nominators then submit a list of up to 16 candidates they want to support.

The network distributes stakes evenly among the validator candidates to maximize economic security. The candidates with the most TNT backing are elected validators for the next era.

Both nominators' and validators' stakes can be slashed for misbehavior, disincentivizing malicious actions, and encouraging nominators to support quality validators. At the same time, nominators also participate in the rewards distributed to the validator, typically 90-99% of the block reward earned by the validator is then broken up among a validator's set of nominators.

Tangle Network uses advanced election algorithms based on the concept of Proportional Justified Representation to ensure fair validator selection and prevent centralized power. For details on the election algorithm that selects which validators participate in block production, see the [Phragmen Election Algorithm.](https://wiki.polkadot.network/learn-phragmen)

In summary, NPoS cleverly leverages stakeholder participation and incentives to secure Tangle Network in a decentralized, trustless manner.

### Roles in the Staking Ecosystem

**Validators**: These are the network participants who lock up tokens as collateral to validate transactions and create new blocks. Validators are chosen based on the size of their stake and their reliability. They earn rewards for their service, which are typically shared with their nominators.

**Nominators**: Nominators support validators by delegating their tokens to a validator's stake. This increases the validator's chance of being selected to validate transactions and, in turn, earns nominators a share of the rewards.
Staking Rewards and Risks

Rewards are distributed to validators and their nominators as an incentive for their participation and the risks they take. These rewards are typically derived from transaction fees and inflationary mechanisms designed to encourage staking. However, staking is not without its risks. Participants can face "slashing", a penalty where a portion of the staked tokens is removed if the validator they support acts maliciously or fails to fulfill their validation duties properly.

### Selecting and Nominating Validators

Nominating validators on Tangle Network involves two key steps:

1. Locking up TNT tokens on-chain through a process called bonding.
2. Selecting up to 16 validator candidates to back with your bonded tokens.

#### Selecting Validators

Choosing validators requires balancing rewards and risks to maximize your reward-to-risk ratio. Key criteria to evaluate include:

- **Recent era points earned by the validator**: Above average signals recent activity.
- **Size of validator's self-stake**: this should be high to ensure they have a stake in the game and are aligned.
- **Total stake backing the validator:** If this is below the average validator stake, they will pay out more rewards.
- **Commission fee charged to nominators:** Typically lower is better, but a 1% minimum is common.
- **Verified identity status on-chain:** Tangle Network supports on-chain contact details for building trust.
- **Previous slash history:** Ideally they have not been slashed, showing their on-chain evidence of reliability.

Paying attention to these factors helps nominators back validators that will maximize rewards while minimizing risks.

Additionally, Validators should run nodes on robust infrastructure that meets software, hardware, and bandwidth requirements. Most validators use cloud hosting services that provide high availability and connectivity.

Keep in mind active validators must stay online to avoid slashing penalties. If over 10% of active validators go offline, slashing is triggered. So beware of nominating multiple validators hosted by one provider - an outage could slash your stake.

#### Nominating Validators

Once validators are nominated, Tangle Network automatically allocates your bonded tokens to active validators each era. This provides flexibility compared to systems that lock you into a single validator. Tangle Network's nomination and automated allocation mechanisms optimize security through decentralized elections.

Nominators on Tangle Network should carefully evaluate validators across these several criteria before nomination to maximize rewards and minimize risks. The system then provides ongoing flexibility in backing active validators.

### Staking Rewards

Validators who produce blocks earn token rewards, which they share with their nominators. Both validators and nominators receive staking rewards for locking up their TNT on-chain at the end of each era.

Tangle Network pays equal rewards to all validators regardless of their staked amount. This prevents centralized power in a few large validators. There is a probabilistic component in calculating rewards, so they are not exactly equal for all validators. Validators can earn more era points and higher rewards by being active on-chain.

After the validator's commission, staking rewards are distributed pro-rata amongst a validator's nominators based on each nominator's stake.

### Slashing for Accountability

Slashing is a penalty imposed on validators and their nominators for malicious behavior that threatens network security. Examples include double-signing transactions, censorship, and downtime.

Slashing confiscates a portion of the validator's stake, disincentivizing attacks. The slashed tokens go to the network treasury rather than being burned or distributed as rewards. This allows the possibility of governance reversing improper slashes.

The severity of the slash depends on the offense's impact on the network. Milder slashing applies to isolated unresponsiveness or equivocation. More severe slashing happens for misconduct with serious security or monetary risks like mass collusion.

Validators with more backing get slashed more harshly to discourage nominators from over-concentrating with popular validators. Each validator is treated separately for slashing, so spreading nominations reduces potential losses.

Slashing only applies to a nominator's active stake in a misbehaving validator. Inactive nominations are unaffected. The percentage slashed is proportional to the nominator's fraction of the total stake in that validator.

There is a grace period after a slash where governance can reverse improper slashes before they take effect. Slashes become active after this period passes.

In summary, slashing mainly punishes actual misbehavior rather than mistakes, while still disincentivizing actions that weaken network security and decentralization. The threat of losing stake keeps validators and nominators honest.

### Monitor your Validators

Nominating validators is not "set and forget." The system dynamics require nominators to periodically review validator performance and reputation. Failure to monitor could mean missed rewards or slashes.

Criteria like era points will vary from era to era. One low-era point era does not necessitate switching validators. However consistent underperformance on era points or other issues may warrant nominating a better validator for returns and network health.

Factors like identity, slash history, and commission rates are more stable. Optimize these for predictable rewards. The Polkadot Apps UI and the Tangle Network staking dashboard can guide you.

### Claiming Your Staking Rewards

Staking rewards accrue each era and must be claimed - they are not paid out automatically. Typically validators trigger payouts, but anyone can initiate reward distribution.

Rewards remain claimable for a substantial number of eras - long enough that normal stakers need not worry about missing the window. Check the target network's specifics for the exact length.

You can view and trigger unclaimed reward payouts for your nominated validators on the Staking Payouts page. Note that if anyone claims rewards for a validator you backed, you receive the payout even if you didn't personally trigger it.

If no one claims your rewards before the expiration, or your validator fully unbonds, you lose the unclaimed rewards. Given unbonding takes multiple eras, check for unclaimed rewards at least that often.

Rewards can go to the payout account or any other account. You can also top-up your bonded stake from rewards without fully unbonding.

### Staking Securely with Stash and Proxy Accounts

While many nominators use one account, a Stash account, Stakers can use two accounts for added security:

**Stash account:** Holds the staked funds but delegates actions to a proxy. Can be kept offline (e.g. cold wallet) for security. Avoiding transactions here keeps history clean.
**Proxy account:** Acts on behalf of the stash, handling nominating and validating. Sets preferences like commission rates and reward payout accounts. Only needs funds for transaction fees.

Benefits of this setup:

- Proxy handles staking without accessing cold stash. No need to constantly use a hardware wallet.
- Stash transaction history stays clean as the proxy handles staking actions.
- Earned rewards can be automatically re-staked on stash for compounding.
- Caution: Never leave large balances on proxy accounts. As hot wallets, they are more exposed to hacks. Use stash or cold storage for funds not needed for staking transactions.

### Unbonding and Withdrawing Stakes

Tokens staked in the network are not immediately liquid. There's an "unbonding" period during which tokens cannot be transferred or used. To see the unbonding period, check the Parameters page.

## Why Participate in Staking?

Staking offers several benefits:

- Rewards: Participants earn rewards, contributing to the potential for passive income.
- Network Security: Staking tokens help secure the network, making it more resilient against attacks.
- Governance: Stakers often have a say in network governance, influencing the future direction of the blockchain.

Why Might One Hesitate to Stake?

- Liquidity: Staked tokens are locked and cannot be traded or used until unbonded.
- Slashing Risks: Validators and nominators risk losing a portion of their stake if the validator behaves maliciously or negligently.
- Complexity: The process can be complex, especially for beginners.

### Conclusion

Staking is a critical mechanism for nPoS blockchain networks, offering a way to participate in and benefit from the network beyond mere token holding. It strengthens network security and decentralization while providing rewards to those who participate.
